var Link=function(a,b,c,d,e){this.type=a,this.filter_text=b,this.font_icon=c,this.cb=d,this.id=e},Location=function(a,b,c,d,e,f,g){this.id=g,this.name=a,this.lng=c,this.lat=b,this.ctg=d,this.fav=e,this.info=f,this.marker=null,this.infoWindow=null};Location.prototype.makeItBounce=function(){},Location.prototype.setMarker=function(a){this.marker=a},Location.prototype.setInfoWindow=function(a){this.infoWindow=a},Location.prototype.getInfo=function(){var a=this,b=["facebook"],c="<div class='info-section'><div class='info-header'>"+a.name+"</div>%TAB%#INFO#</div>",d='<ul class="nav nav-tabs">',e='<div class="tab-content">';switch(a.ctg){case 1:var f="",g='<div id="'+a.id+'_info" class="tab-pane fade in active"><p>'+a.info+"</p></div>";f+='<li class="active"><a data-toggle="tab" href="#'+a.id+'_info"><i class="fa fa-info" aria-hidden="true"></i></a></li>',b.forEach(function(b){f+="<li><a onclick=\"getSpecificInfo('"+b+"',"+a.lat+","+a.lng+",'"+a.name+"',"+a.id+');" data-toggle="tab" href="#'+a.id+"_"+b+'"><i class="fa fa-'+b+'" aria-hidden="true"></i></a></li>',g+='<div id="'+a.id+"_"+b+'" class="tab-pane fade">#AJAX_INFO#</div>'}),d+=f,d+="</ul>",e+=g,e+="</div>",c=c.replace("%TAB%",d),c=c.replace("#INFO#",e);break;case 2:var f="",g='<div id="'+a.id+'_info" class="tab-pane fade in active"><p>'+a.info+"</p></div>";f+='<li class="active"><a data-toggle="tab" href="#'+a.id+'_info"><i class="fa fa-info" aria-hidden="true"></i></a></li>',b.forEach(function(b){f+="<li><a onclick=\"getSpecificInfo('"+b+"',"+a.lat+","+a.lng+",'"+a.name+"',"+a.id+');" data-toggle="tab" href="#'+a.id+"_"+b+'"><i class="fa fa-'+b+'" aria-hidden="true"></i></a></li>',g+='<div id="'+a.id+"_"+b+'" class="tab-pane fade">#AJAX_INFO#</div>'}),d+=f,d+="</ul>",e+=g,e+="</div>",c=c.replace("%TAB%",d),c=c.replace("#INFO#",e);break;case 3:var f="",g='<div id="'+a.id+'_info" class="tab-pane fade in active"><p>'+a.info+"</p></div>";f+='<li class="active"><a data-toggle="tab" href="#'+a.id+'_info"><i class="fa fa-info" aria-hidden="true"></i></a></li>',b.forEach(function(b){f+="<li><a onclick=\"getSpecificInfo('"+b+"',"+a.lat+","+a.lng+",'"+a.name+"',"+a.id+');" data-toggle="tab" href="#'+a.id+"_"+b+'"><i class="fa fa-'+b+'" aria-hidden="true"></i></a></li>',g+='<div id="'+a.id+"_"+b+'" class="tab-pane fade">#AJAX_INFO#</div>'}),d+=f,d+="</ul>",e+=g,e+="</div>",c=c.replace("%TAB%",d),c=c.replace("#INFO#",e);break;case 4:var f="",g='<div id="'+a.id+'_info" class="tab-pane fade in active"><p>'+a.info+"</p></div>";f+='<li class="active"><a data-toggle="tab" href="#'+a.id+'_info"><i class="fa fa-info" aria-hidden="true"></i></a></li>',b.forEach(function(b){f+="<li><a onclick=\"getSpecificInfo('"+b+"',"+a.lat+","+a.lng+",'"+a.name+"',"+a.id+');" data-toggle="tab" href="#'+a.id+"_"+b+'"><i class="fa fa-'+b+'" aria-hidden="true"></i></a></li>',g+='<div id="'+a.id+"_"+b+'" class="tab-pane fade">#AJAX_INFO#</div>'}),d+=f,d+="</ul>",e+=g,e+="</div>",c=c.replace("%TAB%",d),c=c.replace("#INFO#",e);break;default:alert("Unidentified Selection")}return c};var getSpecificInfo=function(a,b,c,d,e){$.ajax({url:"/APIRequest",method:"GET",dataType:"json",data:{type:a,lat:b,lng:c,name:d},success:function(b){var c=ExistingLocations[e-1].infoWindow.getContent();if(console.log(b),"facebook"==a&&c.indexOf("#AJAX_INFO#")>-1){var d="";if(d+='<p class="info-name">'+b.name+"</p>",d+='<p class="info-main-category"><strong>Main Category: </strong>'+b.category+"</p>",b.category_list.length>0){d+='<p class="info-sub-category"><span>Sub Category: </span>#SUBC#</p>';var f="";b.category_list.forEach(function(a){f+="<small>"+a.name+"</small>, "}),f=f.substring(0,f.length-1),d=d.replace("#SUBC#",f)}ExistingLocations.length>0&&(c=c.replace("#AJAX_INFO#",d),console.log(c),ExistingLocations[e-1].infoWindow.setContent(c))}},error:function(a){alert("Something went wrong!")}})};